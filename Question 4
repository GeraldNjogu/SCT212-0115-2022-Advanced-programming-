import java.util.Calendar;

public class Main {
    public static void main(String[] args) {
        BankAccount account = new BankAccount("12345", 1000.0);
        Calendar date = Calendar.getInstance();

        // Deposit Transaction
        DepositTransaction deposit = new DepositTransaction(500.0, date, "TXN001");
        deposit.apply(account);
        deposit.printTransactionDetails();

        // Withdrawal Transaction
        WithdrawalTransaction withdrawal = new WithdrawalTransaction(1200.0, date, "TXN002");
        try {
            withdrawal.apply(account);
        } catch (InsufficientFundsException e) {
            System.out.println(e.getMessage());
        }

        // Reverse Withdrawal
        if (withdrawal.reverse(account)) {
            System.out.println("Reversal successful.");
        }

        // Apply with Exception Handling
        withdrawal.applyWithCatch(account);
    }
}
